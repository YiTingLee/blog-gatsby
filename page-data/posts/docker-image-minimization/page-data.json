{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/docker-image-minimization","result":{"data":{"markdownRemark":{"id":"25efa116-eceb-51a7-8334-08c5b82b80dd","html":"<h2 id=\"介紹\" style=\"position:relative;\"><a href=\"#%E4%BB%8B%E7%B4%B9\" aria-label=\"介紹 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>介紹</h2>\n<p>在上傳或下載 docker image 的時候，大家或多或少都應該有遇過 Timeout 或是上傳速度很慢等問題，更甚至有時候是把 docker image 拉到 IOT 裝置上面跑，先天條件上機器就無法容納沒減肥過的 docker image，而縮小 docker image 的大小是避免這些問題的方法之一，也是我們今天要做的主要實驗。</p>\n<p>今天的實驗主要是使用 Nest 這個框架建立出來的 service 來做為我們縮小的主要對象。雖然是使用 Nest 作為範例，但這些方法和概念都可以適用在不同的專案上。</p>\n<h2 id=\"第一輪-準備\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%B8%80%E8%BC%AA-%E6%BA%96%E5%82%99\" aria-label=\"第一輪 準備 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第一輪: 準備</h2>\n<p>用 Nest 建一個基本的專案吧</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ nest new nest-playground</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>我們會得到一個完整 Nest 的 App, 看起會像這樣\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 754px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dc4bdb6e9bb7786543473da3db49bf81/7527b/folder-structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 116.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAACm0lEQVQ4y51V227TQBT0D/BKJQRq4117fbdbX+LY8SVxErdqA2kRUkEqEkhIPPH/b8PZJQmJENThYeLE1k5mzpxzrEXRJdZvN6gXS8xmc/T9De7v3+P29g6bzQN8P4RpWrAsG0LYdHVgmAKTSUEoUdcN0nSMOE7ofAeNuZcoihaPqzXiskVazuAnBQJCmJVgTgTdCqDbO4QY0W8RJIQYFl1N7wqmfwU7yojQMJF6Hn5s1riKU4QBHRjpYIxB1xkMem4Yxm9wQ91jjIMT1JXuScjvmsktBKmFh+8NQv+SbEzIQqYsleVUWeFbEgm+hfEXaIILiNiF+Jgiz3LImsoHQlgKJtVLER2QGs8Thjh/mKLMCyRJqqTvSHYYSqpZ3ISZJDj/+gnTolQ2Ly5G+9ocEg9SyDkV3vThRu+oXjG6rlOtUJYlbNvZqx0KjdE/u1Sn1raV3a5boKpqTKeVqt9QZXtCnSwHwsDaPUdMhMvlCvN5h/E4PymMI4UOqctiX7XIYjsxeT5RKZ9MaMjmdAKcjRcoiwJN06JtW6XykPCEUDjNp4fMnSJLU6WubWcKYRj9h2X6cJiBzy8FxjTkVV0jyzKlUrbQKS2zVUhTYXN4xWsKYoKWLO+Slu3jef5Row+oIQP3IrzpH9EQwXK5xPX1jbIu6+k47lEvPkdKhLRZ/Bivbr+hoGQliUShpuZXc580eowse5aOLnyhek9alYFIUpn0atWr3jy0/m9CCkSqCOd3yGg5VFW1T7ppGrWpT9k4mlyStuMh2XzBmFb6oTqpVraOrOPQMdQYbWUniNB9eKLFmu4nZbdg+/5a2R66KFTKOr1XztKeQslpKdSKUAYiXwHsYM0PS5kmhQsHF36CIAgIobLp+/4fh4dY/gn5zrlTnjv7VQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/dc4bdb6e9bb7786543473da3db49bf81/8ac56/folder-structure.webp 240w,\n/static/dc4bdb6e9bb7786543473da3db49bf81/d3be9/folder-structure.webp 480w,\n/static/dc4bdb6e9bb7786543473da3db49bf81/20eb0/folder-structure.webp 754w\"\n              sizes=\"(max-width: 754px) 100vw, 754px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/dc4bdb6e9bb7786543473da3db49bf81/8ff5a/folder-structure.png 240w,\n/static/dc4bdb6e9bb7786543473da3db49bf81/e85cb/folder-structure.png 480w,\n/static/dc4bdb6e9bb7786543473da3db49bf81/7527b/folder-structure.png 754w\"\n            sizes=\"(max-width: 754px) 100vw, 754px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/dc4bdb6e9bb7786543473da3db49bf81/7527b/folder-structure.png\"\n            alt=\"Folder Structure\"\n            title=\"Folder Structure\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>接著用最基本的方法包成 docker image 吧</p>\n<ul>\n<li>nest-playground 的專案下建立 Dockerfile</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-dockerfile line-numbers\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> node:12</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> yarn install</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 3000</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"yarn\"</span>, <span class=\"token string\">\"start\"</span>]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>build docker image 指令如下</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">docker</span> build -t nest-backend <span class=\"token builtin class-name\">.</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>這樣 build 出來的 docker-image 總共使用了*<strong>*1.6G**</strong>，比預想中大很多吧</p>\n<h4 id=\"為什麼這麼大\" style=\"position:relative;\"><a href=\"#%E7%82%BA%E4%BB%80%E9%BA%BC%E9%80%99%E9%BA%BC%E5%A4%A7\" aria-label=\"為什麼這麼大 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>為什麼這麼大?</h4>\n<p>因為我們把整個 repo，node_modules，以及實際 build 出來的 js 都包在這包 image 內了</p>\n<h2 id=\"第二輪-拿掉非必要檔案\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%BA%8C%E8%BC%AA-%E6%8B%BF%E6%8E%89%E9%9D%9E%E5%BF%85%E8%A6%81%E6%AA%94%E6%A1%88\" aria-label=\"第二輪 拿掉非必要檔案 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第二輪: 拿掉非必要檔案</h2>\n<h4 id=\"那怎麼辦\" style=\"position:relative;\"><a href=\"#%E9%82%A3%E6%80%8E%E9%BA%BC%E8%BE%A6\" aria-label=\"那怎麼辦 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>那怎麼辦?</h4>\n<p>這邊先把必要的程式留下來，其他非必要的檔案都拿掉，包含 source code，也就是說除了 build 出來的 dist 外其他檔案都不需要存在</p>\n<ul>\n<li>\n<p>把 Dockerfile 分成兩個 stage</p>\n<ul>\n<li>stage1 負責 build code</li>\n<li>stage2 則負責把 stage1 build 好的程式 copy 進去 stage2 內然後 run 起來</li>\n</ul>\n</li>\n</ul>\n<p>經過這些處理後，stage2(也就最後要 run 起的 image)內只會包含 dist 內容，任何 repo 內的資料都會被留在 stage1 裡面，並不會被放到 stage2 內，實作如下。</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-dockerfile line-numbers\"><code class=\"language-dockerfile\"><span class=\"token comment\"># STAGE 1</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> node:12 <span class=\"token keyword\">AS</span> build</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> yarn install</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"yarn\"</span>, <span class=\"token string\">\"build:prod\"</span>]</span>\n\n<span class=\"token comment\"># STAGE 2</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> node:12</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token options\"><span class=\"token property\">--from</span><span class=\"token punctuation\">=</span><span class=\"token string\">build</span></span> /app/package.json .</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token options\"><span class=\"token property\">--from</span><span class=\"token punctuation\">=</span><span class=\"token string\">build</span></span> /app/dist ./dist</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 3000</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"yarn\"</span>, <span class=\"token string\">\"start:prod\"</span>]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>這邊為了將 node_modules 內沒使用到的東西拿掉，我們使用了 webpack 來處理，<a href=\"https://github.com/YiTingLee/NestAppMinimization/blob/master/webpack.config.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Webpack Config</a>在這邊。</p>\n<p>這樣處理完的 docker image 剩下*<strong>*919MB**</strong></p>\n<h4 id=\"感覺還是很大\" style=\"position:relative;\"><a href=\"#%E6%84%9F%E8%A6%BA%E9%82%84%E6%98%AF%E5%BE%88%E5%A4%A7\" aria-label=\"感覺還是很大 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>感覺還是很大?</h4>\n<h2 id=\"第三輪-使用輕量化的-node-版本-alpine\" style=\"position:relative;\"><a href=\"#%E7%AC%AC%E4%B8%89%E8%BC%AA-%E4%BD%BF%E7%94%A8%E8%BC%95%E9%87%8F%E5%8C%96%E7%9A%84-node-%E7%89%88%E6%9C%AC-alpine\" aria-label=\"第三輪 使用輕量化的 node 版本 alpine permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>第三輪: 使用輕量化的 Node 版本 alpine</h2>\n<p>我們一般使用的 node image 是 Debian based 的，擁有完整的功能，大小約 650MB+，而 alpine 僅有維持運作最基礎的 OS 功能，甚至連 Python/gcc 都沒有，大小約 50MB+。使用輕量化的 node 並不是完全沒有後遺症，輕量化的 image 肯定就是拿掉了許多功能及 module，但在 image size 上是擁有很大的優勢。</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-dockerfile line-numbers\"><code class=\"language-dockerfile\"><span class=\"token comment\"># STAGE 1</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> node:12-alpine <span class=\"token keyword\">AS</span> build</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> yarn install</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"yarn\"</span>, <span class=\"token string\">\"build:prod\"</span>]</span>\n\n<span class=\"token comment\"># STAGE 2</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">FROM</span> node:12-alpine</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token options\"><span class=\"token property\">--from</span><span class=\"token punctuation\">=</span><span class=\"token string\">build</span></span> /app/package.json .</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token options\"><span class=\"token property\">--from</span><span class=\"token punctuation\">=</span><span class=\"token string\">build</span></span> /app/dist ./dist</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 3000</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"yarn\"</span>, <span class=\"token string\">\"start:prod\"</span>]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>使用輕量版 Node build 完後的總大小是*<strong>*90.5MB**</strong></p>\n<h2 id=\"結論\" style=\"position:relative;\"><a href=\"#%E7%B5%90%E8%AB%96\" aria-label=\"結論 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>結論</h2>\n<p>這次的實驗大小的進度分別是 1.6GB -> 919MB -> 90.5MB，總共減少了 17X，當中除了 Dockerfile 在 Stage 上的操作外還有一些 webpack 的使用才能大幅度的減少 image 的大小。</p>\n<p>這邊要再說一次，雖然今天的實驗主要是使用 Nest 這個框架做為我們的主要範例，但這些方法及概念都可以套用到不同的專案上，尤其是 frontend 的專案另外還可以使用 nginx 等輕量化的 web server 作為基底。</p>\n<h2 id=\"source-code\" style=\"position:relative;\"><a href=\"#source-code\" aria-label=\"source code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source Code</h2>\n<p><a href=\"https://github.com/YiTingLee/NestAppMinimization\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/YiTingLee/NestAppMinimization</a></p>","fields":{"slug":"/posts/docker-image-minimization","tagSlugs":["/tag/docker/","/tag/optimization/"],"readingTime":{"text":"5 min read"}},"frontmatter":{"date":"2021-07-17T17:00:00.000Z","description":"Docker image減肥大作戰!!","tags":["Docker","Optimization"],"title":"Docker Image Minimization","socialImage":""}}},"pageContext":{"slug":"/posts/docker-image-minimization"}},"staticQueryHashes":["251939775","3688386433","401334301"]}